{"remainingRequest":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue?vue&type=template&id=3cebeb3a&scoped=true","dependencies":[{"path":"/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue","mtime":1654354857737},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/babel-loader/lib/index.js","mtime":1654334873419},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1654334873681},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js","mtime":1654334873418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY2hhdC13aW5kb3ciPgogICAgPGRpdiB2LWlmPSJlcnJvciI+e3sgZXJyb3IgfX08L2Rpdj4KICAgIDxkaXYgdi1pZj0iZm9ybWF0dGVkRG9jdW1lbnRzIiBjbGFzcz0ibWVzc2FnZXMiIHJlZj0ibWVzc2FnZXMiPgogICAgICA8ZGl2IHYtZm9yPSJkb2MgaW4gZm9ybWF0dGVkRG9jdW1lbnRzIiA6a2V5PSJkb2MuaWQiIGNsYXNzPSJzaW5nbGUiPgogICAgICAgIDxzcGFuIGNsYXNzPSJjcmVhdGVkLWF0Ij57eyBkb2MuY3JlYXRlZEF0IH19PC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJuYW1lIj57eyBkb2MubmFtZSB9fTwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzcz0ibWVzc2FnZSI+e3sgZG9jLm1lc3NhZ2UgfX08L3NwYW4+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/C,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chat-window\">\n    <div v-if=\"error\">{{ error }}</div>\n    <div v-if=\"formattedDocuments\" class=\"messages\" ref=\"messages\">\n      <div v-for=\"doc in formattedDocuments\" :key=\"doc.id\" class=\"single\">\n        <span class=\"created-at\">{{ doc.createdAt }}</span>\n        <span class=\"name\">{{ doc.name }}</span>\n        <span class=\"message\">{{ doc.message }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport getCollection from '../composables/getCollection'\nimport { computed, onUpdated, ref } from 'vue'\nimport { formatDistanceToNow } from 'date-fns'\nexport default {\n  setup() {\n    const { error, documents } = getCollection('messages')\n   \n    const formattedDocuments = computed(() => {\n      if (documents.value) {\n        return documents.value.map(doc => {\n          let time = formatDistanceToNow(doc.createdAt.toDate())\n          return { ...doc, createdAt: time }\n        })\n      }\n    })\n\n   const messages = ref(null)\n\n   onUpdated(() => {\n       messages.value.scrollTop=messages.value.scrollHeight\n   })\n\n    return { error, documents, formattedDocuments, messages }\n  }\n}\n</script>\n\n<style scoped>\n  .chat-window {\n    background: #fafafa;\n    padding: 30px 20px;\n  }\n  .single {\n    margin: 18px 0;\n  }\n  .created-at {\n    display: block;\n    color: #999;\n    font-size: 12px;\n    margin-bottom: 4px;\n  }\n  .name {\n    font-weight: bold;\n    margin-right: 6px;\n  }\n  .messages {\n    max-height: 400px;\n    overflow: auto;\n  }\n</style>"]}]}