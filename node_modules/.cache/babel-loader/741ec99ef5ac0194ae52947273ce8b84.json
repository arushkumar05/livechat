{"remainingRequest":"/Users/arush/Desktop/vue course/live_chat/node_modules/thread-loader/dist/cjs.js!/Users/arush/Desktop/vue course/live_chat/node_modules/babel-loader/lib/index.js!/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/arush/Desktop/vue course/live_chat/src/components/NewChatForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arush/Desktop/vue course/live_chat/src/components/NewChatForm.vue","mtime":1654352689817},{"path":"/Users/arush/Desktop/vue course/live_chat/babel.config.js","mtime":1654334875805},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/thread-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/babel-loader/lib/index.js","mtime":1654334873419},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js","mtime":1654334873418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2FydXNoL0Rlc2t0b3AvdnVlIGNvdXJzZS9saXZlX2NoYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYXJ1c2gvRGVza3RvcC92dWUgY291cnNlL2xpdmVfY2hhdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCB7IHJlZiB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7CmltcG9ydCBnZXRVc2VyIGZyb20gJy4uL2NvbXBvc2FibGVzL2dldFVzZXInOwppbXBvcnQgdXNlQ29sbGVjdGlvbiBmcm9tICcuLi9jb21wb3NhYmxlcy91c2VDb2xsZWN0aW9uJzsKaW1wb3J0IHsgdGltZXN0YW1wIH0gZnJvbSAnLi4vZmlyZWJhc2UvY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBtZXNzYWdlID0gcmVmKCcnKTsKCiAgICB2YXIgX2dldFVzZXIgPSBnZXRVc2VyKCksCiAgICAgICAgdXNlciA9IF9nZXRVc2VyLnVzZXI7CgogICAgdmFyIF91c2VDb2xsZWN0aW9uID0gdXNlQ29sbGVjdGlvbignbWVzc2FnZXMnKSwKICAgICAgICBhZGREb2MgPSBfdXNlQ29sbGVjdGlvbi5hZGREb2MsCiAgICAgICAgZXJyb3IgPSBfdXNlQ29sbGVjdGlvbi5lcnJvcjsKCiAgICB2YXIgaGFuZGxlU3VibWl0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNoYXQ7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2hhdCA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci52YWx1ZS5kaXNwbGF5TmFtZSwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZERvYyhjaGF0KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCFlcnJvci52YWx1ZSkgewogICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgaGFuZGxlU3VibWl0OiBoYW5kbGVTdWJtaXQKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;AAYA,SAASA,GAAT,QAAoB,iBAApB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,SAAQC,SAAR,QAAwB,oBAAxB;AAEA,eAAe;EACXC,KADW,mBACJ;IACH,IAAMC,OAAO,GAAEL,GAAG,CAAC,EAAD,CAAlB;;IACA,eAAaC,OAAO,EAApB;IAAA,IAAOK,IAAP,YAAOA,IAAP;;IACA,qBAA0BJ,aAAa,CAAC,UAAD,CAAvC;IAAA,IAAQK,MAAR,kBAAQA,MAAR;IAAA,IAAgBC,KAAhB,kBAAgBA,KAAhB;;IAEA,IAAMC,YAAW;MAAA,sEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBACXC,IADW,GACN;kBACPL,OAAO,EAAEA,OAAO,CAACM,KADV;kBAEPC,IAAI,EAAEN,IAAI,CAACK,KAAL,CAAWE,WAFV;kBAGPC,SAAS,EAAEX,SAAS;gBAHb,CADM;gBAAA;gBAAA,OAMXI,MAAM,CAACG,IAAD,CANK;;cAAA;gBAOjB,IAAG,CAACF,KAAK,CAACG,KAAV,EAAgB;kBACZN,OAAO,CAACM,KAAR,GAAc,EAAd;gBACJ;;cATiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXF,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAWA,OAAO;MAAEJ,OAAO,EAAPA,OAAF;MAAWI,YAAW,EAAXA;IAAX,CAAP;EACJ;AAlBW,CAAf","names":["ref","getUser","useCollection","timestamp","setup","message","user","addDoc","error","handleSubmit","chat","value","name","displayName","createdAt"],"sourceRoot":"","sources":["/Users/arush/Desktop/vue course/live_chat/src/components/NewChatForm.vue"],"sourcesContent":["<template>\n  <form>\n      <textarea\n         placeholder=\"Type a message and hit enter to send...\"\n         v-model=\"message\"\n         @keypress.enter.prevent=\"handleSubmit\">\n      </textarea> \n      <div class=\"error\">{{error}}</div>   \n  </form>    \n</template>\n\n<script>\nimport { ref } from '@vue/reactivity'\nimport getUser from '../composables/getUser'\nimport useCollection from '../composables/useCollection'\nimport {timestamp} from '../firebase/config'\n\nexport default {\n    setup(){\n        const message= ref('')\n        const {user}=getUser()\n        const { addDoc, error } = useCollection('messages')\n\n        const handleSubmit = async() => {\n            const chat={\n                message: message.value,\n                name: user.value.displayName,\n                createdAt: timestamp()\n            }\n            await addDoc(chat)\n            if(!error.value){\n                message.value=''\n            }\n        }\n        return { message, handleSubmit }\n    }\n}\n</script>\n\n<style scoped>\n  form {\n    margin: 10px;\n  }\n  textarea {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 6px;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 0;\n    border-radius: 20px;\n    font-family: inherit;\n    outline: none;\n  }\n</style>"]}]}