{"remainingRequest":"/Users/arush/Desktop/vue course/live_chat/node_modules/thread-loader/dist/cjs.js!/Users/arush/Desktop/vue course/live_chat/node_modules/babel-loader/lib/index.js!/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue?vue&type=template&id=3cebeb3a&scoped=true","dependencies":[{"path":"/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue","mtime":1654354857737},{"path":"/Users/arush/Desktop/vue course/live_chat/babel.config.js","mtime":1654334875805},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/thread-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/babel-loader/lib/index.js","mtime":1654334873419},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1654334873681},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/cache-loader/dist/cjs.js","mtime":1654334873241},{"path":"/Users/arush/Desktop/vue course/live_chat/node_modules/vue-loader-v16/dist/index.js","mtime":1654334873418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTNjZWJlYjNhIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNoYXQtd2luZG93Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAibWVzc2FnZXMiLAogIHJlZjogIm1lc3NhZ2VzIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNyZWF0ZWQtYXQiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAibmFtZSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJtZXNzYWdlIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFskc2V0dXAuZXJyb3IgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5lcnJvciksIDEpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCAkc2V0dXAuZm9ybWF0dGVkRG9jdW1lbnRzID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmZvcm1hdHRlZERvY3VtZW50cywgZnVuY3Rpb24gKGRvYykgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBrZXk6IGRvYy5pZCwKICAgICAgY2xhc3M6ICJzaW5nbGUiCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzQsIF90b0Rpc3BsYXlTdHJpbmcoZG9jLmNyZWF0ZWRBdCksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNSwgX3RvRGlzcGxheVN0cmluZyhkb2MubmFtZSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNiwgX3RvRGlzcGxheVN0cmluZyhkb2MubWVzc2FnZSksIDEpXSk7CiAgfSksIDEyOCkpXSwgNTEyKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pOwp9"},{"version":3,"mappings":";;;;;;;;EACOA,KAAK,EAAC;;;;;;;EAEsBA,KAAK,EAAC;EAAWC,GAAG,EAAC;;;EAE1CD,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;uBANlBE,oBASM,KATN,cASM,CAROC,8BAAXD,oBAAmC,KAAnC,EAAmCE,UAAnC,EAAmCC,iBAAdF,YAAc,CAAnC,EAA0B,CAA1B,kCAQI,EAPOA,2CAAXD,oBAMM,KANN,cAMM,oBALJA,oBAIMI,SAJN,EAIM,IAJN,EAIMC,YAJaJ,yBAIb,EAJ+B,UAAzBK,GAAyB,EAAtB;yBAAfN,oBAIM,KAJN,EAIM;MAJkCO,GAAG,EAAED,GAAG,CAACE,EAI3C;MAJ+CV,KAAK,EAAC;IAIrD,CAJN,GACEW,oBAAmD,MAAnD,cAAmDN,iBAAvBG,GAAG,CAACI,SAAmB,CAAnD,EAAyC,CAAzC,GACAD,oBAAwC,MAAxC,cAAwCN,iBAAlBG,GAAG,CAACK,IAAc,CAAxC,EAA8B,CAA9B,GACAF,oBAA8C,MAA9C,cAA8CN,iBAArBG,GAAG,CAACM,OAAiB,CAA9C,EAAoC,CAApC,EAHF;GAIM,CAJN,MAKI,EANN,uCAOI,CATN","names":["class","ref","_createElementBlock","$setup","_hoisted_2","_toDisplayString","_Fragment","_renderList","doc","key","id","_createElementVNode","createdAt","name","message"],"sourceRoot":"","sources":["/Users/arush/Desktop/vue course/live_chat/src/components/ChatWindow.vue"],"sourcesContent":["<template>\n  <div class=\"chat-window\">\n    <div v-if=\"error\">{{ error }}</div>\n    <div v-if=\"formattedDocuments\" class=\"messages\" ref=\"messages\">\n      <div v-for=\"doc in formattedDocuments\" :key=\"doc.id\" class=\"single\">\n        <span class=\"created-at\">{{ doc.createdAt }}</span>\n        <span class=\"name\">{{ doc.name }}</span>\n        <span class=\"message\">{{ doc.message }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport getCollection from '../composables/getCollection'\nimport { computed, onUpdated, ref } from 'vue'\nimport { formatDistanceToNow } from 'date-fns'\nexport default {\n  setup() {\n    const { error, documents } = getCollection('messages')\n   \n    const formattedDocuments = computed(() => {\n      if (documents.value) {\n        return documents.value.map(doc => {\n          let time = formatDistanceToNow(doc.createdAt.toDate())\n          return { ...doc, createdAt: time }\n        })\n      }\n    })\n\n   const messages = ref(null)\n\n   onUpdated(() => {\n       messages.value.scrollTop=messages.value.scrollHeight\n   })\n\n    return { error, documents, formattedDocuments, messages }\n  }\n}\n</script>\n\n<style scoped>\n  .chat-window {\n    background: #fafafa;\n    padding: 30px 20px;\n  }\n  .single {\n    margin: 18px 0;\n  }\n  .created-at {\n    display: block;\n    color: #999;\n    font-size: 12px;\n    margin-bottom: 4px;\n  }\n  .name {\n    font-weight: bold;\n    margin-right: 6px;\n  }\n  .messages {\n    max-height: 400px;\n    overflow: auto;\n  }\n</style>"]}]}